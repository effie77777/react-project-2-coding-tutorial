{"version":3,"file":"static/js/876.1b9ab24f.chunk.js","mappings":"qKA2CA,UAxCgB,SAAHA,GAAwC,IAAlCC,EAAWD,EAAXC,YAAaC,EAAaF,EAAbE,cAC5BC,GAAkCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAxCI,EAAQF,EAAA,GAAEG,EAAWH,EAAA,GAC7BI,GAAoCL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA/BC,EAAA,GAAcA,EAAA,GAqB/B,OAnBAC,EAAAA,EAAAA,YAAU,WACDV,GAGDO,EAAY,MACZI,EAAAA,EAAiBC,mBAChBC,MAAK,SAACC,GAEH,IADA,IAAAC,EAA2BD,EAAEE,KAAvBC,EAAOF,EAAPE,QAASC,EAAOH,EAAPG,QACNC,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IAChCF,EAAQE,GAAGE,gBAAkBH,EAAQC,GAEzClB,EAAcgB,EAClB,IACCK,OAAM,SAACC,GACJC,QAAQC,IAAIF,EAChB,KAbAhB,EAAY,yDAepB,GAAG,KAGCmB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAE/BtB,IACGuB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SAAEtB,IAG/BN,IACD6B,EAAAA,EAAAA,KAAA,WAASF,UAAU,QAAOC,UACtBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,qBAAoBC,SAAC,iCAM/C,C,yDCxCME,EAAY,mCA0CZnB,EAAmB,IAxCN,oBAAAoB,KAAAC,EAAAA,EAAAA,GAAA,KAAAD,EAAA,CAqCd,OArCcE,EAAAA,EAAAA,GAAAF,EAAA,EAAAG,IAAA,mBAAAC,MACf,WACI,IAAIC,EACAC,aAAaC,QAAQ,aAGjBF,EAFSG,KAAKC,MAAMH,aAAaC,QAAQ,cAE1BF,MAKnBA,EAAQ,GAEZ,OAAOK,EAAAA,EAAMC,IAAI,GAADC,OACTb,EAAS,WACZ,CAAEc,QAAS,CAAEC,cAAeT,IAEpC,GAAC,CAAAF,IAAA,WAAAC,MAED,SAASW,EAAUC,GACf,IAAIX,EAMJ,OAJIA,EADAC,aAAaC,QAAQ,aACbC,KAAKC,MAAMH,aAAaC,QAAQ,cAAcF,MAE9C,GAELK,EAAAA,EAAMC,IAAI,GAADC,OACTb,EAAS,aAAAa,OAAYG,EAAQ,KAAAH,OAAII,GACpC,CAAEH,QAAS,CAAEC,cAAeT,IASpC,KAACL,CAAA,CArCc,IAyCnB,K","sources":["pages/Profile.js","services/course-service.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport newCourseService from \"../services/course-service\";\r\n\r\nconst Profile = ({ currentUser, setAllCourses }) => {\r\n    const [ errorMsg, setErrorMsg ] = useState(null);\r\n    const [ myCourses, setMyCourses ] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!currentUser) {\r\n            setErrorMsg(\"請先進行登入或註冊\")\r\n        } else { // Google 登入的使用者才有 access_token，也就是本地登入的使用者需要跑 newAuthService\r\n            setErrorMsg(null);\r\n            newCourseService.searchAllCourses()\r\n            .then((d) => {\r\n                let { newData, profile } = d.data;\r\n                for (let i = 0; i < newData.length; i ++) {\r\n                    newData[i].instructorPhoto = profile[i];\r\n                }\r\n                setAllCourses(newData); // newData 是一整個 array，裡面包含很多個 object，每一個 object 都代表一個課程\r\n            })\r\n            .catch((e) => {\r\n                console.log(e);\r\n            })\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n\r\n        {errorMsg && (\r\n            <div className=\"error_msg\">{errorMsg}</div>\r\n        )}\r\n\r\n        {currentUser && (\r\n        <section className=\"py-11\">\r\n            <h3 className=\"fw-bold text-white\">我的課程</h3>\r\n        </section>\r\n        )}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import axios from \"axios\";\r\nconst basic_api = \"http://localhost:8000/api/course\";\r\n\r\nclass courseService {\r\n    searchAllCourses() {\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            let parsed = JSON.parse(localStorage.getItem(\"user_data\"));\r\n            // if (parsed.token) {\r\n                token = parsed.token;\r\n            // } else if (parsed.access_token) {\r\n            //     token = parsed.access_token;\r\n            // }\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/search`,\r\n            { headers: { Authorization: token } }\r\n        );\r\n    }\r\n\r\n    checkOut(ItemName, TotalAmount) {\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            token = JSON.parse(localStorage.getItem(\"user_data\")).token;\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/payment/${ItemName}/${TotalAmount}`,\r\n            { headers: { Authorization: token } }\r\n        )\r\n        // .then((d) => {\r\n        //     console.log(\"inside checkOut service. d is: \", d);\r\n        //     return d;\r\n        // })\r\n        // .catch((e) => {\r\n        //     console.log(e);\r\n        // });\r\n    }\r\n}\r\n\r\nconst newCourseService = new courseService();\r\nexport default newCourseService;"],"names":["_ref","currentUser","setAllCourses","_useState","useState","_useState2","_slicedToArray","errorMsg","setErrorMsg","_useState3","_useState4","useEffect","newCourseService","searchAllCourses","then","d","_d$data","data","newData","profile","i","length","instructorPhoto","catch","e","console","log","_jsxs","className","children","_jsx","basic_api","courseService","_classCallCheck","_createClass","key","value","token","localStorage","getItem","JSON","parse","axios","get","concat","headers","Authorization","ItemName","TotalAmount"],"sourceRoot":""}