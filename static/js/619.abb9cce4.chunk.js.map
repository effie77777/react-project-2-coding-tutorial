{"version":3,"file":"static/js/619.abb9cce4.chunk.js","mappings":"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","sources":["pages/PlaceOrder.js","services/course-service.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport instructor from \"../assets/images/instructor.jpg\";\r\nimport newCourseService from \"../services/course-service\";\r\n\r\nconst PlaceOrder = ({ currentUser, setCurrentUser, orderFromECPAY, setOrderFromECPAY, orderFromCustomer, setOrderFromCustomer, currentSearch, setCurrentSearch, purchase, setPurchase }) => {\r\n    const [ errorMsg, setErrorMsg ] = useState(null);\r\n    const Navigate = useNavigate();\r\n\r\n    //檢查各 input 是否為空白\r\n    function checkIfItsEmpty() {\r\n        for (let prop in orderFromCustomer[0]) {\r\n            if (orderFromCustomer[0][prop].length === 0) {\r\n                switch(prop) {\r\n                    case \"name\":\r\n                        return \"姓名\";\r\n                    case \"tel\":\r\n                        return \"手機號碼\";\r\n                    case \"email\":\r\n                        return \"Email\";\r\n                    case \"date\":\r\n                        return \"想預約的日期\";\r\n                    case \"address\":\r\n                        return \"上課地點\";                                        \r\n                }\r\n            }\r\n        }\r\n        return \"true\";\r\n    }\r\n\r\n    const handleCheckOut = () => {\r\n        let isNotEmpty = checkIfItsEmpty();\r\n        let telRegexp = /^09\\d{8}$/;\r\n        let emailExp = /^\\w{2,}@\\w{2,}\\.\\w{2,}$/;\r\n        let appointmentDate = Number(orderFromCustomer[0].date.replaceAll(\"-\", \"\"));\r\n        let localeDate = new Date().toLocaleDateString();\r\n        localeDate = Number(localeDate.replaceAll(\"/\", \"\"));\r\n        \r\n        if( isNotEmpty !== \"true\") {\r\n            setErrorMsg(`請填寫「${isNotEmpty}」欄位`);\r\n        } else if (!telRegexp.test(orderFromCustomer[0].tel)) {\r\n            setErrorMsg(\"手機號碼格式為 09xxxxxxxx，共 10 位數字\");\r\n        } else if (!emailExp.test(orderFromCustomer[0].email)) {\r\n            setErrorMsg(\"請確認 Email 是否正確。格式範例為 example@gmail.com\")\r\n        } else if (appointmentDate <= localeDate) {\r\n            setErrorMsg(\"預約日期不可小於或等於今日日期\");\r\n        } else if (orderFromCustomer[0].address.length < 8) {\r\n            setErrorMsg(\"請填寫詳細的上課地點\");\r\n        } else {\r\n            localStorage.setItem(\"order_from_customer\", JSON.stringify(orderFromCustomer[0]));\r\n            setErrorMsg(null);   \r\n            let result = purchase[0] * purchase[1];\r\n            newCourseService.checkOut(currentSearch[0].title, result)\r\n            .then((d) => {\r\n                console.log(\"inside checkout component. d is: \", d);\r\n                setOrderFromECPAY(d.data.substring(0, d.data.indexOf(\"<script\")) + \"</form>\");\r\n                Navigate(\"/checkOut\");\r\n            })\r\n            .catch((e) => {\r\n                console.log(e);\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleChangeInputs = (e) => {\r\n        let inputName = e.target.name;\r\n        let inputValue = e.target.value;\r\n        let copy = [...orderFromCustomer];\r\n        copy.forEach((i) => {\r\n            for (let prop in i) {\r\n                if (inputName === prop) {\r\n                    i[prop] = inputValue;\r\n                    setOrderFromCustomer(copy);\r\n                    break;\r\n                }\r\n            }\r\n        })        \r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!currentUser) {\r\n            setErrorMsg(\"請先登入或註冊\");\r\n            setTimeout(() => {\r\n                Navigate(\"/login\");\r\n            }, 1500);\r\n        } else {\r\n            setCurrentSearch(JSON.parse(localStorage.getItem(\"current_search\")));\r\n            let pricePerClass = JSON.parse(localStorage.getItem(\"purchase\"))[0];\r\n            let amounts = JSON.parse(localStorage.getItem(\"purchase\"))[1];\r\n            if (pricePerClass !== \"洽談報價\") {\r\n                pricePerClass = Number(pricePerClass);\r\n                amounts = Number(amounts);\r\n            }\r\n            setPurchase([pricePerClass, amounts]);\r\n            setOrderFromCustomer([{\"name\": currentUser.data.username, \"tel\": \"\", \"email\": currentUser.data.email, \"date\": \"\", \"address\": \"\" }]);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n\r\n            {!currentUser}\r\n            ? <div className=\"error_msg\">{errorMsg}</div>\r\n            : <div>\r\n                <section className=\"py-11\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 d-flex justify-content-center\">\r\n                            <div className=\"progress_bar\">\r\n                                <div className=\"border-top\"></div>\r\n                                <div>\r\n                                    <div>\r\n                                        <small>1</small>\r\n                                    </div>\r\n                                    <p>填寫購買資料</p>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"border border-1 border-third bg-fourth\">\r\n                                        <small className=\"text-third\">2</small>\r\n                                    </div>\r\n                                    <p>確認訂單資訊</p>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"border border-1 border-third bg-fourth\">\r\n                                        <small className=\"text-third\">3</small>\r\n                                    </div>\r\n                                    <p>成功註冊課程</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {currentSearch.length > 0 && (\r\n                <section className=\"mt-12\">\r\n                    <div className=\"row align-items-center justify-content-center\">\r\n                        <div className=\"col-12 col-sm-8 col-md-4 mb-11 mb-md-0\">\r\n                            <div className=\"py-12 px-8 d-flex flex-column align-items-center bg-opacity-25 bg-third rounded-0 position-relative ms-md-6 me-md-n6\" >\r\n                                <img src={currentSearch[0].instructorPhoto} alt=\"the instructor\" className=\"border border-primary border-3 profile_img\" />\r\n                                <p className=\"fw-bold text-white mt-6\">{currentSearch[0].title}</p>\r\n                                <p className=\"mt-1 text-primary\">{currentSearch[0].category}</p>\r\n                                <p className=\"mt-2 text-white\">{currentSearch[0].description}</p>\r\n                                <div className=\"right-arrow position-absolute opacity-25 top-50 d-none d-md-block end-n4\" style={{transform: \"translateY(-50%)\"}}></div>\r\n                                <div className=\"right-arrow position-absolute opacity-25 left-0 d-md-none bottom-n4\" style={{transform: \"rotate(90deg) translateX(30%)\"}}></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-12 col-md-8\">\r\n                            <form action=\"\" className=\"py-12 px-8 ps-md-18 d-flex flex-row flex-wrap bg-opacity-10 bg-third rounded-0 justify-content-between ms-md-n6 me-md-6\">\r\n                                <h3 className=\"fs-4 mb-12 text-white fw-bold text-center w-100\">課程報名</h3>\r\n                                \r\n                                {errorMsg && (\r\n                                    <div className=\"error_msg w-100 mt-n3\">{errorMsg}</div>\r\n                                )}\r\n                                \r\n                                <div className=\"w-100 w-sm-48 mt-3\">\r\n                                    <label htmlFor=\"name\" className=\"mb-1\">姓名</label>\r\n                                    <input type=\"text\" name=\"name\" id=\"name\" className=\"form-control\" value={orderFromCustomer[0].name} onChange={handleChangeInputs} />\r\n                                </div>\r\n                                <div className=\"w-100 w-sm-48 mt-3\">\r\n                                    <label htmlFor=\"tel\" className=\"mb-1\">手機號碼</label>\r\n                                    <input type=\"tel\" name=\"tel\" id=\"tel\" className=\"form-control\" value={orderFromCustomer[0].tel} placeholder=\"格式: 09xxxxxxxx\" onChange={handleChangeInputs} />\r\n                                </div>\r\n                                <div className=\"mt-6 w-100 w-sm-48\">\r\n                                    <label htmlFor=\"email\" className=\"mb-1\">Email</label>\r\n                                    <input type=\"email\" name=\"email\" id=\"email\" className=\"form-control\" value={orderFromCustomer[0].email} onChange={handleChangeInputs} />\r\n                                </div>\r\n                                <div className=\"mt-6 w-100 w-sm-48\">\r\n                                    <label htmlFor=\"date\" className=\"mb-1\">想預約的日期(當地時間)</label>\r\n                                    <input type=\"date\" name=\"date\" id=\"date\" className=\"form-control\" value={orderFromCustomer[0].date} onChange={handleChangeInputs} />\r\n                                </div>\r\n                                <div className=\"w-100 mt-6\">\r\n                                    <label htmlFor=\"address\" className=\"mb-1\">上課地點(詳細地址)</label>\r\n                                    <input type=\"text\" name=\"address\" id=\"address\" className=\"form-control\" value={orderFromCustomer[0].address} onChange={handleChangeInputs} />\r\n                                </div>\r\n                                <div className=\"mt-9 mt-sm-15 d-flex flex-column justify-content-between w-100\">\r\n                                    \r\n                                    {purchase && purchase[0] !== \"洽談報價\" && (\r\n                                    <div className=\"text-white d-flex align-items-sm-center\">\r\n                                        <p className=\"me-5\">{`NT$${purchase[0]}x${purchase[1]}堂`}</p>\r\n                                        <p className=\"text-warning fs-sm-3\">{`合計NT$${purchase[0] * purchase[1]}`}</p>\r\n                                    </div>\r\n                                    )}\r\n\r\n                                    {purchase && purchase[0] === \"洽談報價\" && (\r\n                                    <div className=\"text-white d-flex fw-bold\">\r\n                                        <p className=\"me-2\">方案:</p>\r\n                                        <p className=\"me-1\">客製化課程</p>\r\n                                        <p className=\"text-warning\">(洽談報價)</p>\r\n                                    </div>\r\n                                    )}\r\n\r\n                                    <div className=\"mt-3 d-flex flex-column flex-sm-row justify-content-sm-between\">\r\n                                        <Link className=\"btn border px-12 py-2 text-white w-sm-48\" to=\"/detail\">重選方案</Link>\r\n                                        <button type=\"button\" className=\"btn bg-linear px-12 py-2 text-white w-sm-48 mt-3 mt-sm-0\" onClick={handleCheckOut}>確認訂單</button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlaceOrder;","import axios from \"axios\";\r\nconst basic_api = \"https://react-project-2-coding-tutorial-backend.onrender.com/api/course\";\r\n// const basic_api = \"http://localhost:8080/api/course\";\r\n\r\nclass courseService {\r\n    searchAllCourses() {\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            token = JSON.parse(localStorage.getItem(\"user_data\")).token;\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/search`,\r\n            { headers: { Authorization: token } }\r\n        );\r\n    }\r\n\r\n    checkOut(ItemName, TotalAmount) {\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            token = JSON.parse(localStorage.getItem(\"user_data\")).token;\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/payment/${ItemName}/${TotalAmount}`,\r\n            { headers: { Authorization: token } }\r\n        )\r\n    }\r\n\r\n    enroll(studentId, courseId) {\r\n        let token;\r\n        localStorage.getItem(\"user_data\")\r\n        ? token = JSON.parse(localStorage.getItem(\"user_data\")).token\r\n        : token = \"\";\r\n        return axios.post(\r\n            `${basic_api}/enroll`,\r\n            { studentId, courseId },\r\n            { headers: { Authorization: token } }\r\n        );\r\n    }\r\n}\r\n\r\nconst newCourseService = new courseService();\r\nexport default newCourseService;"],"names":["_ref","currentUser","setOrderFromECPAY","setCurrentUser","orderFromECPAY","orderFromCustomer","setOrderFromCustomer","currentSearch","setCurrentSearch","purchase","setPurchase","_useState","useState","_useState2","_slicedToArray","errorMsg","setErrorMsg","Navigate","useNavigate","handleChangeInputs","e","inputName","target","name","inputValue","value","copy","_toConsumableArray","forEach","i","prop","useEffect","JSON","parse","localStorage","getItem","pricePerClass","amounts","Number","data","username","email","setTimeout","_jsxs","className","children","_jsx","length","src","instructorPhoto","alt","title","category","description","style","transform","action","htmlFor","type","id","onChange","tel","placeholder","date","address","concat","Link","to","onClick","isNotEmpty","checkIfItsEmpty","appointmentDate","replaceAll","localeDate","Date","toLocaleDateString","test","setItem","stringify","result","newCourseService","checkOut","then","d","console","log","substring","indexOf","catch","basic_api","courseService","_classCallCheck","_createClass","key","token","axios","get","headers","Authorization","ItemName","TotalAmount","studentId","courseId","post"],"sourceRoot":""}