{"version":3,"file":"static/js/183.667796b0.chunk.js","mappings":"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","sources":["pages/CheckOut.js","services/course-service.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport newCourseService from \"../services/course-service\";\r\n\r\nconst CheckOut = ({ currentSearch, setCurrentSearch, purchase, setPurchase, orderFromCustomer, setOrderFromCustomer, orderFromECPAY, setOrderFromECPAY }) => {\r\n    const Navigate = useNavigate();\r\n    const handleCheckOut = () => {\r\n        newCourseService.checkOut()\r\n        .then((d) => {\r\n            console.log(\"inside checkout component. d is: \", d);\r\n        })\r\n        .catch((e) => {\r\n            console.log(e);\r\n        })\r\n    }\r\n\r\n    const handleGoPay = () => {\r\n        const parentElement = document.getElementById(\"parentElement\");\r\n        if (parentElement) {\r\n            console.log(parentElement);\r\n            parentElement.innerHTML = orderFromECPAY;\r\n        }    \r\n        let form = document.getElementById(\"_form_aiochk\");\r\n        console.log(form);\r\n        if (form) {\r\n            window.alert(\"將為您導向綠界金流頁面。\\n提醒您，本專案僅為 demo 性質，切勿輸入真實信用卡卡號等機敏資料。\\n如您使用「網路 ATM 」付款，建議選擇「台灣土地銀行」或「台新銀行」，無須安裝軟體即可觀看模擬的交易結果。\")\r\n            form.submit();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setCurrentSearch(JSON.parse(localStorage.getItem(\"current_search\")));\r\n        setOrderFromCustomer([JSON.parse(localStorage.getItem(\"order_from_customer\"))]);\r\n        let pricePerClass = JSON.parse(localStorage.getItem(\"purchase\"))[0];\r\n        let amounts = JSON.parse(localStorage.getItem(\"purchase\"))[1];\r\n        if (pricePerClass !== \"洽談報價\") {\r\n            pricePerClass = Number(pricePerClass);\r\n            amounts = Number(amounts);\r\n        }\r\n        setPurchase([pricePerClass, amounts]);\r\n    }, []);\r\n    \r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <section className=\"py-11\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 d-flex justify-content-center\">\r\n                        <div className=\"progress_bar\">\r\n                            <div className=\"border-top\"></div>\r\n                            <div>\r\n                                <div>\r\n                                    <small>1</small>\r\n                                </div>\r\n                                <p>填寫購買資料</p>\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"bg-linear border-0\">\r\n                                    <small className=\"text-dark\">2</small>\r\n                                </div>\r\n                                <p>確認訂單資訊</p>\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"border border-1 border-third bg-fourth\">\r\n                                    <small className=\"text-third\">3</small>\r\n                                </div>\r\n                                <p>成功註冊課程</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"mt-12\">\r\n                <div className=\"row align-items-center\">\r\n                    <div className=\"col-12 d-flex flex-wrap justify-content-center\">\r\n                        <h3 className=\"fs-4 text-white fw-bold text-center w-100\">訂單資訊</h3>\r\n                        \r\n                        {orderFromCustomer.length > 0 && currentSearch.length > 0 && (\r\n                        <form className=\"col-12 col-sm-10 col-md-8 d-flex flex-wrap justify-content-between text-white\">\r\n                            <div className=\"w-100 w-sm-48 mt-6 bg-third bg-opacity-25 px-4 py-2\">\r\n                                <label htmlFor=\"name\" className=\"me-3\">姓名</label>\r\n                                <input type=\"text\" name=\"name\" id=\"name\" value={orderFromCustomer[0].name} className=\"bg-transparent border-0 text-white px-0\" disabled />\r\n                            </div>\r\n                            <div className=\"w-100 w-sm-48 mt-6 bg-third bg-opacity-25 px-4 py-2\">\r\n                                <label htmlFor=\"tel\" className=\"me-3\">手機號碼</label>\r\n                                <input type=\"tel\" name=\"tel\" id=\"tel\" value={orderFromCustomer[0].tel} className=\"bg-transparent border-0 text-white px-0\" disabled />\r\n                            </div>\r\n                            <div className=\"mt-6 w-100 w-sm-48 bg-third bg-opacity-25 px-4 py-2\">\r\n                                <label htmlFor=\"email\" className=\"me-3\">Email</label>\r\n                                <input type=\"email\" name=\"email\" id=\"email\" value={orderFromCustomer[0].email} className=\"bg-transparent border-0 text-white px-0\" disabled />\r\n                            </div>\r\n                            <div className=\"mt-6 w-100 w-sm-48 bg-third bg-opacity-25 px-4 py-2\">\r\n                                <label htmlFor=\"date\" className=\"me-3\">上課日期</label>\r\n                                <input type=\"date\" name=\"date\" id=\"date\" value={orderFromCustomer[0].date} className=\"bg-transparent border-0 text-white px-0\" disabled />\r\n                            </div>\r\n                            <div className=\"w-100 mt-6 bg-third bg-opacity-25 px-4 py-2\">\r\n                                <label htmlFor=\"address\" className=\"me-3\">上課地點</label>\r\n                                <input type=\"text\" name=\"address\" id=\"address\" value={orderFromCustomer[0].address} className=\"bg-transparent border-0 text-white px-0 overflow-auto d-inline-block w-100 w-sm-fit-content\" disabled />\r\n                            </div>\r\n                            <div className=\"w-100 mt-6 bg-third bg-opacity-25 px-4 py-2 d-flex flex-wrap\">\r\n                                <label htmlFor=\"address\" className=\"me-3\">課程名稱</label>\r\n                                <p>{currentSearch[0].title} ({currentSearch[0].instructor.name} 老師)</p>\r\n                            </div>\r\n                            <div className=\"mt-9 mt-sm-12 d-flex flex-column justify-content-between w-100\">\r\n                                \r\n                                {purchase && purchase[0] !== \"洽談報價\" && (\r\n                                <div className=\"text-white d-flex align-items-sm-center\">\r\n                                    <p className=\"me-5\">{`NT$${purchase[0]}x${purchase[1]}堂`}</p>\r\n                                    <p className=\"text-warning\">{`合計NT$${purchase[0] * purchase[1]}`}</p>\r\n                                </div>\r\n                                )}\r\n\r\n                                {purchase && purchase[0] === \"洽談報價\" && (\r\n                                <div className=\"text-white d-flex fw-bold\">\r\n                                    <p className=\"me-2\">方案:</p>\r\n                                    <p className=\"me-1\">客製化課程</p>\r\n                                    <p className=\"text-warning\">(洽談報價)</p>\r\n                                </div>\r\n                                )}\r\n\r\n                                <div className=\"mt-3 d-flex flex-column flex-sm-row justify-content-sm-between\">\r\n                                    <Link className=\"btn border px-12 py-2 text-white w-sm-48\" to=\"/placeOrder\">修改訂單</Link>\r\n                                    <button type=\"button\" className=\"btn bg-linear px-12 py-2 text-white w-sm-48 mt-3 mt-sm-0\" onClick={handleGoPay}>前往付款</button>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                        )}\r\n\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section id=\"parentElement\"></section>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckOut;","import axios from \"axios\";\r\n// const basic_api = \"https://react-project-2-coding-tutorial-backend.onrender.com/api/course\";\r\nconst basic_api = \"http://localhost:8080/api/course\";\r\n\r\nclass courseService {\r\n    searchAllCourses() {\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            let parsed = JSON.parse(localStorage.getItem(\"user_data\"));\r\n            // if (parsed.token) {\r\n                token = parsed.token;\r\n            // } else if (parsed.access_token) {\r\n            //     token = parsed.access_token;\r\n            // }\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/search`,\r\n            { headers: { Authorization: token } }\r\n        );\r\n    }\r\n\r\n    checkOut(ItemName, TotalAmount) {\r\n        console.log(\"inside service\");\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            token = JSON.parse(localStorage.getItem(\"user_data\")).token;\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/payment/${ItemName}/${TotalAmount}`,\r\n            { headers: { Authorization: token } }\r\n        )\r\n    }\r\n\r\n    enroll(studentId, courseId) {\r\n        console.log(studentId, courseId);\r\n        let token;\r\n        localStorage.getItem(\"user_data\")\r\n        ? token = JSON.parse(localStorage.getItem(\"user_data\")).token\r\n        : token = \"\";\r\n        return axios.post(\r\n            `${basic_api}/enroll`,\r\n            { studentId, courseId },\r\n            { headers: { Authorization: token } }\r\n        );\r\n    }\r\n}\r\n\r\nconst newCourseService = new courseService();\r\nexport default newCourseService;"],"names":["_ref","currentSearch","setCurrentSearch","purchase","setPurchase","orderFromCustomer","setOrderFromCustomer","orderFromECPAY","setOrderFromECPAY","useNavigate","useEffect","JSON","parse","localStorage","getItem","pricePerClass","amounts","Number","_jsxs","className","children","_jsx","length","htmlFor","type","name","id","value","disabled","tel","email","date","address","title","instructor","concat","Link","to","onClick","parentElement","document","getElementById","console","log","innerHTML","form","window","alert","submit","basic_api","newCourseService","courseService","_classCallCheck","_createClass","key","token","axios","get","headers","Authorization","ItemName","TotalAmount","studentId","courseId","post"],"sourceRoot":""}