"use strict";(self.webpackChunkcode_tutorial=self.webpackChunkcode_tutorial||[]).push([[876],{3876:function(e,t,r){r.r(t);var s=r(9439),a=r(2791),o=r(7689),c=r(4313),l=r(184);t.default=function(e){var t=e.currentUser,r=e.allCourses,n=e.setAllCourses,i=e.filterCategory,u=e.setFilterCategory,d=e.setCurrentSearch,f=(0,o.s0)(),h=(0,a.useState)(null),m=(0,s.Z)(h,2),g=m[0],p=m[1],x=(0,a.useState)([]),v=(0,s.Z)(x,2),N=v[0],b=v[1],j=function(e){var t=i.filter((function(t){return t._id===e.target.id}));d(t),localStorage.setItem("current_search",JSON.stringify(t));var r=t[0].category.split("\u3001"),s=[];i.map((function(e){for(var t=0;t<r.length;t++)if(e.category.includes(r[t])){console.log(r[t]),s.push(e);break}})),u(s),f("/detail")};return(0,a.useEffect)((function(){r.length>0&&u(r)}),[r]),(0,a.useEffect)((function(){t?(c.Z.searchAllCourses("unlimited").then((function(e){for(var t=e.data,r=t.newData,s=t.profile,a=0;a<r.length;a++)r[a].instructorPhoto=s[a];n(r)})).catch((function(e){console.log(e)})),b(t.data.orders)):(p("\u8acb\u5148\u767b\u5165\u6216\u8a3b\u518a"),setTimeout((function(){f("/login")}),2e3))}),[]),(0,l.jsx)("div",{className:"container-fluid",children:t?(0,l.jsx)("div",{children:(0,l.jsx)("section",{className:"py-11",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("h3",{className:"col-10 offset-1 fw-bold text-white fs-5 mb-10",children:"\u6211\u7684\u8ab2\u7a0b"}),(0,l.jsx)("div",{className:"col-10 offset-1",children:N.length>0&&N.map((function(e){return(0,l.jsxs)("div",{className:"d-flex flex-column flex-md-row py-4 px-6 border mb-6",children:[(0,l.jsxs)("div",{className:"d-flex flex-column flex-lg-row flex-grow-1 profile-card-div",children:[(0,l.jsxs)("div",{className:"flex-grow-1",children:[(0,l.jsxs)("p",{className:"mb-3",children:[e.courseTitle," (",e.instructor,")"]}),(0,l.jsxs)("p",{className:"mb-3 mb-lg-0",children:["\u8ab2\u7a0b\u65b9\u6848: \u5171 ",e.plan," \u5802"]})]}),(0,l.jsxs)("div",{className:"flex-grow-1",children:[(0,l.jsxs)("p",{className:"mb-3",children:["\u4e0a\u8ab2\u65e5\u671f: ",e.date]}),(0,l.jsxs)("p",{className:"pb-4 pb-md-0 profile-card-p",children:["\u4e0a\u8ab2\u5730\u9ede: ",e.address]})]})]}),(0,l.jsx)("button",{type:"button",className:"btn rounded-0 text-start text-md-center mt-4 mt-md-0 flex-shrink-0 profile-card-btn",id:e.courseId,onClick:j,children:"\u67e5\u770b\u8ab2\u7a0b\u8a73\u7d30\u8cc7\u8a0a"})]},e.courseId)}))})]})})})}):(0,l.jsx)("div",{className:"error_msg",children:g})})}},4313:function(e,t,r){var s=r(5671),a=r(3144),o=r(1243),c="https://react-project-2-coding-tutorial-backend.onrender.com/api/course",l=new(function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,[{key:"searchAllCourses",value:function(e){var t;return console.log(e),t=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",o.Z.get("".concat(c,"/search/").concat(e),{headers:{Authorization:t}})}},{key:"checkOut",value:function(e,t){var r;return r=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",console.log("ask for html from the server"),o.Z.get("".concat(c,"/payment/").concat(e,"/").concat(t),{headers:{Authorization:r}})}},{key:"enroll",value:function(e,t,r,s){var a;return a=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",o.Z.post("".concat(c,"/enroll"),{studentId:e,course:t,orderDetail:r,classAmounts:s},{headers:{Authorization:a}})}}]),e}());t.Z=l}}]);
//# sourceMappingURL=876.3e23764f.chunk.js.map