"use strict";(self.webpackChunkcode_tutorial=self.webpackChunkcode_tutorial||[]).push([[598],{6598:function(e,t,a){a.r(t);var s=a(9439),r=a(2791),c=a(7689),l=a(1087),n=a(4313),o=a(184);t.default=function(e){var t=e.currentUser,a=(0,c.s0)(),i=(0,r.useState)(null),d=(0,s.Z)(i,2),u=d[0],m=d[1];return(0,r.useEffect)((function(){if(t)if(localStorage.getItem("submission_hashed_result")){var e=JSON.parse(localStorage.getItem("submission_hashed_result")),s=t.data._id,r=JSON.parse(localStorage.getItem("current_search"))[0],c=JSON.parse(localStorage.getItem("order_from_customer")),l=JSON.parse(localStorage.getItem("purchase"))[1];n.Z.checkIfPaymentFinished(e,s,r,c,l).then((function(e){console.log("d is: ",e)})).catch((function(e){console.log(e)}))}else localStorage.getItem("purchase")?(m("\u8a02\u55ae\u5c1a\u672a\u5b8c\u6210\uff0c\u5c07\u70ba\u60a8\u91cd\u65b0\u5c0e\u5411"),setTimeout((function(){localStorage.getItem("order_from_customer")&&JSON.parse(localStorage.getItem("order_from_customer")).isValid?a("/checkOut"):a("/placeOrder")}),2e3)):m("\u76ee\u524d\u6c92\u6709\u9032\u884c\u4e2d\u7684\u8a02\u55ae\u54e6\uff0c\u5982\u6b32\u67e5\u8a62\u5df2\u5b8c\u6210\u7684\u8a02\u55ae\u8acb\u81f3\u500b\u4eba\u9801\u9762");else m("\u8acb\u5148\u767b\u5165\u6216\u8a3b\u518a"),setTimeout((function(){a("/login")}),2e3)}),[]),(0,o.jsx)("div",{className:"container-fluid",children:u?(0,o.jsx)("div",{className:"error_msg",children:u}):(0,o.jsxs)("div",{children:[(0,o.jsx)("section",{className:"py-11",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-12 d-flex justify-content-center",children:(0,o.jsxs)("div",{className:"progress_bar",children:[(0,o.jsx)("div",{className:"border-top"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{children:(0,o.jsx)("small",{children:"1"})}),(0,o.jsx)("p",{children:"\u586b\u5beb\u8cfc\u8cb7\u8cc7\u6599"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"bg-linear border-0",children:(0,o.jsx)("small",{className:"text-dark",children:"2"})}),(0,o.jsx)("p",{children:"\u78ba\u8a8d\u8a02\u55ae\u8cc7\u8a0a"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"bg-linear border-0",children:(0,o.jsx)("small",{className:"text-dark",children:"3"})}),(0,o.jsx)("p",{children:"\u6210\u529f\u8a3b\u518a\u8ab2\u7a0b"})]})]})})})}),(0,o.jsx)("section",{className:"mt-12",children:(0,o.jsx)("div",{className:"row align-items-center",children:(0,o.jsx)("div",{className:"col-12 d-flex justify-content-center",children:(0,o.jsxs)("div",{className:"col-sm-8 col-lg-4 px-8 py-12 bg-third bg-opacity-10 d-flex flex-column align-items-center",style:{maxWidth:"450px"},children:[(0,o.jsxs)("div",{className:"d-flex align-items-center mb-8",children:[(0,o.jsx)("span",{class:"material-symbols-outlined text-primary me-3",style:{fontSize:"2.75rem",transform:"translateY(-10%)"},children:"new_releases"}),(0,o.jsx)("h3",{className:"text-white fw-bold fs-4",children:"\u5b8c\u6210\u8a02\u8cfc"})]}),(0,o.jsx)("p",{className:"mb-10 text-white",children:"\u606d\u559c\u60a8\u5df2\u6210\u529f\u8cfc\u8cb7\u8ab2\u7a0b\uff0c\u8acb\u6ce8\u610f\u90f5\u4ef6\u8a0a\u606f\uff0c\u5bb6\u6559\u8001\u5e2b\u5c07\u8207\u60a8\u806f\u7e6b\uff01\u60a8\u53ef\u81f3\u500b\u4eba\u9801\u9762\u67e5\u770b\u5df2\u8cfc\u8cb7\u7684\u8ab2\u7a0b\u3002"}),(0,o.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,o.jsx)(l.rU,{className:"btn bg-linear text-dark px-12 py-2 mb-3",to:"/class",children:"\u63a2\u7d22\u66f4\u591a\u8ab2\u7a0b"}),(0,o.jsx)(l.rU,{className:"btn text-white border px-12 py-2",to:"/profile",children:"\u56de\u5230\u500b\u4eba\u9801\u9762"})]})]})})})})]})})}},4313:function(e,t,a){var s=a(5671),r=a(3144),c=a(1243),l="https://react-project-2-coding-tutorial-backend.onrender.com/api/course",n=new(function(){function e(){(0,s.Z)(this,e)}return(0,r.Z)(e,[{key:"searchAllCourses",value:function(){var e;return e=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",c.Z.get("".concat(l,"/search"),{headers:{Authorization:e}})}},{key:"checkOut",value:function(e,t){var a;return a=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",c.Z.get("".concat(l,"/payment/").concat(e,"/").concat(t),{headers:{Authorization:a}})}},{key:"enroll",value:function(e,t,a,s){var r;return r=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",c.Z.post("".concat(l,"/enroll"),{studentId:e,course:t,orderDetail:a,classAmounts:s},{headers:{Authorization:r}})}},{key:"getMyOrders",value:function(e){var t;return t=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",c.Z.get("".concat(l,"/getMyOrders/").concat(e),{headers:{Authorization:t}})}},{key:"checkIfPaymentFinished",value:function(e,t,a,s,r){var n;return n=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",c.Z.post("".concat(l,"/checkIfPaymentFinished"),{hashed_result:e,studentId:t,course:a,orderDetail:s,classAmounts:r},{headers:{Authorization:n}})}}]),e}());t.Z=n}}]);
//# sourceMappingURL=598.bd3792de.chunk.js.map