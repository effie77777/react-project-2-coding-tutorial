"use strict";(self.webpackChunkcode_tutorial=self.webpackChunkcode_tutorial||[]).push([[876],{3876:function(e,t,r){r.r(t);var a=r(9439),s=r(2791),o=r(7689),c=r(4313),n=r(184);t.default=function(e){var t=e.currentUser,r=e.allCourses,l=e.setAllCourses,i=e.filterCategory,u=e.setFilterCategory,d=e.setCurrentSearch,f=(0,o.s0)(),h=(0,s.useState)(null),g=(0,a.Z)(h,2),m=g[0],p=g[1],v=(0,s.useState)([]),x=(0,a.Z)(v,2),j=x[0],k=x[1],N=function(e){var t;t=e.target.id?i.filter((function(t){return t._id===e.target.id})):i.filter((function(t){return t._id===e.target.closest("button").id})),d(t),localStorage.setItem("current_search",JSON.stringify(t));var r=t[0].category.split("\u3001"),a=[];i.map((function(e){for(var t=0;t<r.length;t++)if(e.category.includes(r[t])){console.log(r[t]),a.push(e);break}})),u(a),f("/detail")};return(0,s.useEffect)((function(){r.length>0&&(u(r),k(t.data.orders))}),[r]),(0,s.useEffect)((function(){t?c.Z.searchAllCourses().then((function(e){for(var t=e.data,r=t.newData,a=t.profile,s=0;s<r.length;s++)r[s].instructorPhoto=a[s];l(r)})).catch((function(e){console.log(e)})):(p("\u8acb\u5148\u767b\u5165\u6216\u8a3b\u518a"),setTimeout((function(){f("/login")}),2e3))}),[]),(0,n.jsx)("div",{className:"container-fluid",children:t?(0,n.jsx)("div",{children:(0,n.jsx)("section",{className:"py-11",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"col-12",children:[(0,n.jsx)("h2",{className:"col-10 offset-1 fw-bold text-white fs-5 mb-10",children:"\u6211\u7684\u8ab2\u7a0b"}),(0,n.jsx)("div",{className:"col-10 offset-1 d-flex flex-wrap flex-md-nowrap overflow-md-auto",children:j.length>0&&j.map((function(e){return(0,n.jsxs)("div",{className:"class-card",children:[(0,n.jsx)("div",{className:"class-card-header",children:(0,n.jsxs)("p",{children:[e.courseTitle," (",e.instructor,")"]})}),(0,n.jsxs)("div",{className:"class-card-body text-start",children:[(0,n.jsxs)("p",{children:["\u4e0a\u8ab2\u65e5\u671f: ",e.date]}),(0,n.jsxs)("p",{children:["\u4e0a\u8ab2\u5730\u9ede: ",e.address]}),(0,n.jsxs)("p",{children:["\u8ab2\u7a0b\u5802\u6578: \u5171 ",e.plan[1]," \u5802"]})]}),(0,n.jsx)("button",{type:"button",className:"class-card-footer btn text-start",id:e.courseId,onClick:N,children:"\u67e5\u770b\u8ab2\u7a0b\u8a73\u7d30\u8cc7\u8a0a"})]},e.courseId)}))})]})})})}):(0,n.jsx)("div",{className:"error_msg",children:m})})}},4313:function(e,t,r){var a=r(5671),s=r(3144),o=r(1243),c="https://react-project-2-coding-tutorial-backend.onrender.com/api/course",n=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,[{key:"searchAllCourses",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return console.log(t),e=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",o.Z.get("".concat(c,"/search/").concat(t),{headers:{Authorization:e}})}},{key:"checkOut",value:function(e,t){var r;return r=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",console.log("ask for html from the server"),o.Z.get("".concat(c,"/payment/").concat(e,"/").concat(t),{headers:{Authorization:r}})}},{key:"enroll",value:function(e,t,r,a){var s;return s=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",o.Z.post("".concat(c,"/enroll"),{studentId:e,course:t,orderDetail:r,classAmounts:a},{headers:{Authorization:s}})}}]),e}(),l=new n;t.Z=l}}]);
//# sourceMappingURL=876.c8246190.chunk.js.map