"use strict";(self.webpackChunkcode_tutorial=self.webpackChunkcode_tutorial||[]).push([[824],{3824:function(e,t,n){n.r(t);var r=n(9439),l=n(2791),s=n(7689),o=n(4313),a=n(184);t.default=function(e){var t=e.currentUser,n=e.allCourses,c=e.setAllCourses,i=e.filterCategory,d=e.setFilterCategory,u=e.setCurrentSearch,h=(0,s.s0)(),x=(0,l.useState)(null),m=(0,r.Z)(x,2),p=m[0],f=m[1],j=function(e){var t;t=e.target.id?i.filter((function(t){return t._id===e.target.id})):i.filter((function(t){return t._id===e.target.closest("button").id})),u(t),localStorage.setItem("current_search",JSON.stringify(t)),h("/detail")},b=function(e){e.stopPropagation();var t=n.filter((function(t){return t.category.includes(e.target.outerText)}));d(t),document.querySelector(".scroll-control-div").scrollTo({left:0,behavior:"smooth"})};return(0,l.useEffect)((function(){t?o.Z.searchAllCourses().then((function(e){for(var t=e.data,n=t.newData,r=t.profile,l=0;l<n.length;l++)n[l].instructorPhoto=r[l];c(n),d(n)})).catch((function(e){console.log(e)})):(f("\u8acb\u5148\u767b\u5165\u6216\u8a3b\u518a"),setTimeout((function(){h("/login")}),2e3))}),[]),(0,a.jsx)("div",{className:"container-fluid",children:t?(0,a.jsxs)("div",{children:[(0,a.jsx)("section",{className:"section",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-12",children:(0,a.jsxs)("ul",{className:"col-10 offset-1 d-flex overflow-auto class-category",children:[(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,className:"word-break-keep-all",children:"\u524d\u7aef\u8a9e\u8a00"})},"0"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,className:"word-break-keep-all",children:"\u5f8c\u7aef\u8a9e\u8a00"})},"1"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"JavaScript"})},"2"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"HTML"})},"3"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"CSS/SCSS"})},"4"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"React"})},"5"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"Vue"})},"6"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"Angular"})},"7"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"Node.js"})},"8"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"SQL"})},"9"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"Python"})},"10"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"Java"})},"11"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"C++"})},"12"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,children:"PHP"})},"13"),(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",onClick:b,className:"word-break-keep-all",children:"UI\u8a2d\u8a08"})},"14")]})})})}),(0,a.jsx)("section",{children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-12",children:(0,a.jsx)("div",{className:"col-10 offset-1 d-flex flex-wrap flex-md-nowrap overflow-md-auto scroll-control-div",children:i.length>0&&i.map((function(e){return(0,a.jsxs)("button",{type:"button",className:"class-card btn",id:e._id,onClick:j,children:[(0,a.jsxs)("div",{className:"class-card-header",children:[(0,a.jsx)("img",{src:e.instructorPhoto,alt:"the instructor",className:"profile_img mb-2"}),(0,a.jsx)("p",{children:e.instructor.name})]}),(0,a.jsxs)("div",{className:"class-card-body text-start",children:[(0,a.jsx)("h3",{className:"fw-bold fs-3 text-white",children:e.title}),(0,a.jsx)("div",{className:"",children:e.category.split("\u3001").map((function(e){return(0,a.jsx)("p",{type:"button",className:"btn text-primary border border-primary d-inline-block p-1 rounded-0 me-1 hover-bg-primary",style:{fontSize:"0.9rem"},onClick:b,children:e})}))}),(0,a.jsx)("p",{className:"h-60 h-sm-50 h-md-60 mb-2",children:e.description})]}),(0,a.jsxs)("div",{className:"class-card-footer",children:[(0,a.jsx)("p",{className:"align-self-end mb-1",children:e.plan.slice(e.plan.indexOf("\u5802")+1,e.plan.indexOf("/"))}),(0,a.jsx)("p",{className:"fs-4 text-white",children:e.plan.slice(0,e.plan.indexOf(" "))})]})]},e._id)}))})})})})]}):(0,a.jsx)("div",{className:"error_msg",children:p})})}},4313:function(e,t,n){var r=n(5671),l=n(3144),s=n(1243),o="http://localhost:8080/api/course",a=new(function(){function e(){(0,r.Z)(this,e)}return(0,l.Z)(e,[{key:"searchAllCourses",value:function(){var e;return e=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",s.Z.get("".concat(o,"/search"),{headers:{Authorization:e}})}},{key:"checkOut",value:function(e,t){var n;return n=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",s.Z.get("".concat(o,"/payment/").concat(e,"/").concat(t),{headers:{Authorization:n}})}},{key:"enroll",value:function(e,t,n,r){var l;return l=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",s.Z.post("".concat(o,"/enroll"),{studentId:e,course:t,orderDetail:n,classAmounts:r},{headers:{Authorization:l}})}},{key:"getMyOrders",value:function(e){var t;return t=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",s.Z.get("".concat(o,"/getMyOrders/").concat(e),{headers:{Authorization:t}})}},{key:"checkIfPaymentFinished",value:function(e,t,n,r,l){var a;return a=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).token:"",s.Z.post("".concat(o,"/checkIfPaymentFinished"),{hashed_result:e,studentId:t,course:n,orderDetail:r,classAmounts:l},{headers:{Authorization:a}})}}]),e}());t.Z=a}}]);
//# sourceMappingURL=824.a3f12420.chunk.js.map