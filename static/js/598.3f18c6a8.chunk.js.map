{"version":3,"file":"static/js/598.3f18c6a8.chunk.js","mappings":"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","sources":["pages/Finished.js","services/course-service.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport newCourseService from \"../services/course-service\";\r\n\r\nconst Finished = ({ currentUser, currentSearch, setCurrentSearch }) => {\r\n    const handleEnroll = (e) => {\r\n        console.log(e.target);\r\n        newCourseService.enroll(currentUser.id, currentSearch.id)\r\n        .then((d) => {\r\n            console.log(\"successfully enrolled\", d);\r\n        })\r\n        .catch((e) => {\r\n            console.log(e);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setCurrentSearch(JSON.parse(localStorage.getItem(\"current_search\")));\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <section className=\"py-11\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 d-flex justify-content-center\">\r\n                        <div className=\"progress_bar\">\r\n                            <div className=\"border-top\"></div>\r\n                            <div>\r\n                                <div>\r\n                                    <small>1</small>\r\n                                </div>\r\n                                <p>填寫購買資料</p>\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"bg-linear border-0\">\r\n                                    <small className=\"text-dark\">2</small>\r\n                                </div>\r\n                                <p>確認訂單資訊</p>\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"bg-linear border-0\">\r\n                                    <small className=\"text-dark\">3</small>\r\n                                </div>\r\n                                <p>成功註冊課程</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"mt-12\">\r\n                <div className=\"row align-items-center\">\r\n                    <div className=\"col-12 d-flex justify-content-center\">\r\n                        <div className=\"col-sm-8 col-lg-4 px-8 py-12 bg-third bg-opacity-10 d-flex flex-column align-items-center\" style={{ maxWidth: \"450px\" }}>\r\n                            <div className=\"d-flex align-items-center mb-8\">\r\n                                <span class=\"material-symbols-outlined text-primary me-3\" style={{fontSize: \"2.75rem\", transform: \"translateY(-10%)\"}}>\r\n                                    new_releases\r\n                                </span>\r\n                                <h3 className=\"text-white fw-bold fs-4\">完成訂購</h3>\r\n                            </div>\r\n                            <p className=\"mb-10 text-white\">恭喜您已成功購買課程，請注意郵件訊息，家教老師將與您聯繫！</p>\r\n                            <div className=\"d-flex flex-column align-items-center\">\r\n                                <button type=\"button\" className=\"btn bg-linear text-dark px-12 py-2 mb-3\" onClick={handleEnroll}>探索更多課程</button>\r\n                                <button type=\"button\" className=\"btn text-white border px-12 py-2\" onClick={handleEnroll}>回到個人頁面</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Finished;","import axios from \"axios\";\r\nconst basic_api = \"https://react-project-2-coding-tutorial-backend.onrender.com/api/course\";\r\n\r\nclass courseService {\r\n    searchAllCourses() {\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            let parsed = JSON.parse(localStorage.getItem(\"user_data\"));\r\n            // if (parsed.token) {\r\n                token = parsed.token;\r\n            // } else if (parsed.access_token) {\r\n            //     token = parsed.access_token;\r\n            // }\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/search`,\r\n            { headers: { Authorization: token } }\r\n        );\r\n    }\r\n\r\n    checkOut(ItemName, TotalAmount) {\r\n        console.log(\"inside service\");\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            token = JSON.parse(localStorage.getItem(\"user_data\")).token;\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/payment/${ItemName}/${TotalAmount}`,\r\n            { headers: { Authorization: token } }\r\n        )\r\n    }\r\n\r\n    enroll(studentId, courseId) {\r\n        let token;\r\n        localStorage.getItem(\"user_data\")\r\n        ? token = JSON.parse(localStorage.getItem(\"user_data\")).token\r\n        : token = \"\";\r\n        return axios.post(\r\n            `${basic_api}/enroll`,\r\n            { studentId, courseId },\r\n            { headers: { Authorization: token } }\r\n        );\r\n    }\r\n}\r\n\r\nconst newCourseService = new courseService();\r\nexport default newCourseService;"],"names":["_ref","currentUser","currentSearch","setCurrentSearch","handleEnroll","e","console","log","target","newCourseService","enroll","id","then","d","catch","useEffect","JSON","parse","localStorage","getItem","_jsxs","className","children","_jsx","style","maxWidth","class","fontSize","transform","type","onClick","basic_api","courseService","_classCallCheck","_createClass","key","value","token","axios","get","concat","headers","Authorization","ItemName","TotalAmount","studentId","courseId","post"],"sourceRoot":""}