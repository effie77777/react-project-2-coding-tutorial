{"version":3,"file":"static/js/183.cc727d89.chunk.js","mappings":"+KA+GA,UA3GiB,SAAHA,GAA6B,IAAvBC,EAAKD,EAALC,MAAOC,EAAQF,EAARE,SACvBC,QAAQC,IAAIH,IACKI,EAAAA,EAAAA,MAAjB,IAcMC,EAAgBC,SAASC,eAAe,iBAC1CF,IACAH,QAAQC,IAAIE,GACZA,EAAcG,UAAYR,EAE1BC,GADQQ,EAAAA,EAAAA,GAAOT,KAsBnB,OAfAU,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAOL,SAASC,eAAe,gBACjCI,IACAT,QAAQC,IAAIQ,GACTA,EAAKC,SAEhB,GAAG,CAACZ,KAUAa,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,WAASF,UAAU,QAAOC,UACtBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,MAAKC,UAChBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uCAAsCC,UACjDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBACfD,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,OAAAD,UACIC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,SAEXC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,6CAEPF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qBAAoBC,UAC/BC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,YAAWC,SAAC,SAEjCC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,6CAEPF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yCAAwCC,UACnDC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,aAAYC,SAAC,SAElCC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,sDAOvBC,EAAAA,EAAAA,KAAA,WAASF,UAAU,QAAOC,UACtBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yBAAwBC,UACnCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uCAAuCG,GAAG,gBAAeF,UACpEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,+EA8B3B,C,yDC5GMG,EAAY,mCA0CZC,EAAmB,IAxCN,oBAAAC,KAAAC,EAAAA,EAAAA,GAAA,KAAAD,EAAA,CAqCd,OArCcE,EAAAA,EAAAA,GAAAF,EAAA,EAAAG,IAAA,mBAAAC,MACf,WACI,IAAIC,EACAC,aAAaC,QAAQ,aAGjBF,EAFSG,KAAKC,MAAMH,aAAaC,QAAQ,cAE1BF,MAKnBA,EAAQ,GAEZ,OAAOK,EAAAA,EAAMC,IAAI,GAADC,OACTd,EAAS,WACZ,CAAEe,QAAS,CAAEC,cAAeT,IAEpC,GAAC,CAAAF,IAAA,WAAAC,MAED,SAASW,EAAUC,GACf,IAAIX,EAMJ,OAJIA,EADAC,aAAaC,QAAQ,aACbC,KAAKC,MAAMH,aAAaC,QAAQ,cAAcF,MAE9C,GAELK,EAAAA,EAAMC,IAAI,GAADC,OACTd,EAAS,aAAAc,OAAYG,EAAQ,KAAAH,OAAII,GACpC,CAAEH,QAAS,CAAEC,cAAeT,IASpC,KAACL,CAAA,CArCc,IAyCnB,K","sources":["pages/CheckOut.js","services/course-service.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport newCourseService from \"../services/course-service\";\r\n\r\nconst CheckOut = ({ order, setOrder }) => {\r\n    console.log(order);\r\n    const Navigate = useNavigate();\r\n    const handleCheckOut = () => {\r\n        newCourseService.checkOut()\r\n        .then((d) => {\r\n            console.log(\"inside checkout component. d is: \", d);\r\n            // Navigate(\"/finished\");\r\n            // setOrder(d.data);\r\n        })\r\n        .catch((e) => {\r\n            console.log(e);\r\n        })\r\n    }\r\n    // const newlyCreated = document.createElement(\"div\");\r\n    // newlyCreated.innerHTML = order;\r\n    const parentElement = document.getElementById(\"parentElement\");\r\n    if (parentElement) {\r\n        console.log(parentElement);\r\n        parentElement.innerHTML = order;\r\n        let copy = [...order];\r\n        setOrder(copy);\r\n        // parentElement.appendChild(newlyCreated);\r\n        // console.log(parentElement);\r\n        // parentElement.innerHTML = order;\r\n    }\r\n    \r\n    useEffect(() => {\r\n        const form = document.getElementById(\"_form_aiochk\");\r\n        if (form) {\r\n            console.log(form);\r\n               form.submit();\r\n        }    \r\n    }, [order]);\r\n    // let htmlString = order;\r\n    // let doc = new DOMParser().parseFromString(htmlString, \"text/html\");\r\n    // console.log(doc);\r\n    // let parentElement = document.getElementById(\"parentElement\");\r\n    // if (parentElement) {\r\n    //     parentElement.appendChild(doc);\r\n    // }\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <section className=\"py-11\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 d-flex justify-content-center\">\r\n                        <div className=\"progress_bar\">\r\n                            <div className=\"border-top\"></div>\r\n                            <div>\r\n                                <div>\r\n                                    <small>1</small>\r\n                                </div>\r\n                                <p>填寫購買資料</p>\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"bg-linear border-0\">\r\n                                    <small className=\"text-dark\">2</small>\r\n                                </div>\r\n                                <p>確認付款資訊</p>\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"border border-1 border-third bg-fourth\">\r\n                                    <small className=\"text-third\">3</small>\r\n                                </div>\r\n                                <p>成功註冊課程</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"mt-12\">\r\n                <div className=\"row align-items-center\">\r\n                    <div className=\"col-12 d-flex justify-content-center\" id=\"parentElement\">\r\n                        <p>將為您導向綠界金流頁面</p>\r\n                        {/* <form className=\"col-12 col-sm-8 col-lg-6\">\r\n                            <div className=\"mb-6\">\r\n                                <label htmlFor=\"cardNumber\" className=\"form-label\">信用卡卡號</label>\r\n                                <input type=\"text\" className=\"form-control p-3\" id=\"cardNumber\" name=\"cardNumber\" placeholder=\"xxxx-xxxx-xxxx\" required />\r\n                            </div>\r\n                            <div className=\"mb-6\">\r\n                                <label htmlFor=\"cardSecurityCode\" className=\"form-label\">安全碼</label>\r\n                                <input type=\"text\" className=\"form-control p-3\" id=\"cardSecurityCode\" name=\"cardSecurityCode\" placeholder=\"(共三碼)\" required />\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"cardExpirationDate\" className=\"form-label\">到期日</label>\r\n                                <input type=\"text\" className=\"form-control p-3\" id=\"cardExpirationDate\" name=\"cardExpirationDate\" placeholder=\"MM/YYYY\" required />\r\n                            </div>\r\n                            <div className=\"mt-9 mt-sm-12 d-flex flex-wrap justify-content-between align-items-end w-100\">\r\n                                <p className=\"text-white fs-3\">NT$1600</p>\r\n                                <div className=\"mt-3 mt-sm-0 w-100 w-sm-70 d-flex justify-content-between\">\r\n                                    <Link className=\"btn py-2 border\" to=\"/placeOrder\" style={{width: \"48%\"}}>上一步</Link>\r\n                                    <button type=\"button\" className=\"btn bg-linear py-2 text-white\" style={{width: \"48%\"}} onClick={handleCheckOut}>下一步</button>\r\n                                </div>\r\n                            </div>\r\n                        </form> */}\r\n                        {/* {order && (\r\n                            order\r\n                        )} */}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckOut;","import axios from \"axios\";\r\nconst basic_api = \"http://localhost:8000/api/course\";\r\n\r\nclass courseService {\r\n    searchAllCourses() {\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            let parsed = JSON.parse(localStorage.getItem(\"user_data\"));\r\n            // if (parsed.token) {\r\n                token = parsed.token;\r\n            // } else if (parsed.access_token) {\r\n            //     token = parsed.access_token;\r\n            // }\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/search`,\r\n            { headers: { Authorization: token } }\r\n        );\r\n    }\r\n\r\n    checkOut(ItemName, TotalAmount) {\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            token = JSON.parse(localStorage.getItem(\"user_data\")).token;\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/payment/${ItemName}/${TotalAmount}`,\r\n            { headers: { Authorization: token } }\r\n        )\r\n        // .then((d) => {\r\n        //     console.log(\"inside checkOut service. d is: \", d);\r\n        //     return d;\r\n        // })\r\n        // .catch((e) => {\r\n        //     console.log(e);\r\n        // });\r\n    }\r\n}\r\n\r\nconst newCourseService = new courseService();\r\nexport default newCourseService;"],"names":["_ref","order","setOrder","console","log","useNavigate","parentElement","document","getElementById","innerHTML","_toConsumableArray","useEffect","form","submit","_jsxs","className","children","_jsx","id","basic_api","newCourseService","courseService","_classCallCheck","_createClass","key","value","token","localStorage","getItem","JSON","parse","axios","get","concat","headers","Authorization","ItemName","TotalAmount"],"sourceRoot":""}