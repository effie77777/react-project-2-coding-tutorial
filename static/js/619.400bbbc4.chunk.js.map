{"version":3,"file":"static/js/619.400bbbc4.chunk.js","mappings":"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","sources":["pages/PlaceOrder.js","services/course-service.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport instructor from \"../assets/images/instructor.jpg\";\r\nimport newCourseService from \"../services/course-service\";\r\n\r\nconst PlaceOrder = ({ order, setOrder, currentSearch, setCurrentSearch, purchase, setPurchase }) => {\r\n    const [ inputs, setInputs ] = useState([]);\r\n    const Navigate = useNavigate();\r\n\r\n    const handleCheckOut = (e) => {\r\n        e.preventDefault();\r\n        const inputTags = document.querySelectorAll(\"input\");\r\n        console.log(inputTags);\r\n        // let name;\r\n        // let value;\r\n        // let arr = [];\r\n        // for (let i = 0; i < inputTags.length; i ++) {\r\n        //     name = inputTags[i].name;\r\n        //     value = inputTags[i].value;\r\n        //     console.log(name, value);\r\n        //     arr.push({ name: value });\r\n        //     console.log(arr);\r\n        // }\r\n        newCourseService.checkOut(currentSearch[0].title, currentSearch[1] * currentSearch[2])\r\n        .then((d) => {\r\n            console.log(\"inside checkout component. d is: \", d);\r\n            setOrder(d.data.substring(0, d.data.indexOf(\"<script\")) + \"</form>\");\r\n            Navigate(\"/checkOut\");\r\n        })\r\n        .catch((e) => {\r\n            console.log(e);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        setCurrentSearch(JSON.parse(localStorage.getItem(\"current_search\")));\r\n        let pricePerClass = JSON.parse(localStorage.getItem(\"purchase\"))[0];\r\n        let amounts = JSON.parse(localStorage.getItem(\"purchase\"))[1];\r\n        if (pricePerClass !== \"洽談報價\") {\r\n            pricePerClass = Number(pricePerClass);\r\n            amounts = Number(amounts);\r\n        }\r\n        setPurchase([pricePerClass, amounts]);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <section className=\"py-11\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 d-flex justify-content-center\">\r\n                        <div className=\"progress_bar\">\r\n                            <div className=\"border-top\"></div>\r\n                            <div>\r\n                                <div>\r\n                                    <small>1</small>\r\n                                </div>\r\n                                <p>填寫購買資料</p>\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"border border-1 border-third bg-fourth\">\r\n                                    <small className=\"text-third\">2</small>\r\n                                </div>\r\n                                <p>確認付款資訊</p>\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"border border-1 border-third bg-fourth\">\r\n                                    <small className=\"text-third\">3</small>\r\n                                </div>\r\n                                <p>成功註冊課程</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {currentSearch.length > 0 && (\r\n            <section className=\"mt-12\">\r\n                <div className=\"row align-items-center justify-content-center\">\r\n                    <div className=\"col-12 col-sm-8 col-md-4 mb-11 mb-md-0\">\r\n                        <div className=\"py-12 px-8 d-flex flex-column align-items-center bg-opacity-25 bg-third rounded-0 position-relative ms-md-6 me-md-n6\" >\r\n                            <img src={currentSearch[0].instructorPhoto} alt=\"the instructor\" className=\"border border-primary border-3 profile_img\" />\r\n                            <p className=\"fw-bold text-white mt-6\">{currentSearch[0].title}</p>\r\n                            <p className=\"mt-1 text-primary\">{currentSearch[0].category}</p>\r\n                            <p className=\"mt-2 text-white\">{currentSearch[0].description}</p>\r\n                            <div className=\"right-arrow position-absolute opacity-25 top-50 d-none d-md-block end-n4\" style={{transform: \"translateY(-50%)\"}}></div>\r\n                            <div className=\"right-arrow position-absolute opacity-25 left-0 d-md-none bottom-n4\" style={{transform: \"rotate(90deg) translateX(30%)\"}}></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-8\">\r\n                        <form action=\"\" className=\"py-12 px-8 ps-md-18 d-flex flex-row flex-wrap bg-opacity-10 bg-third rounded-0 justify-content-between ms-md-n6 me-md-6\">\r\n                            <h3 className=\"fs-4 mb-12 text-white fw-bold text-center w-100\">課程報名</h3>\r\n                            <div className=\"w-100 w-sm-48\">\r\n                                <label htmlFor=\"name\" className=\"mb-1\">姓名</label>\r\n                                <input type=\"text\" name=\"name\" id=\"name\" className=\"form-control\" required />\r\n                            </div>\r\n                            <div className=\"w-100 w-sm-48 mt-6 mt-sm-0\">\r\n                                <label htmlFor=\"tel\" className=\"mb-1\">手機號碼</label>\r\n                                <input type=\"tel\" name=\"tel\" id=\"tel\" className=\"form-control\" placeholder=\"格式: 09xx-xxx-xxx\" required pattern=\"^09\\d{2}-\\d{3}-\\d{3}$\" title=\"09xx-xxx-xxx。範例為 0912-345-678\" />\r\n                            </div>\r\n                            <div className=\"mt-6 w-100 w-sm-48\">\r\n                                <label htmlFor=\"email\" className=\"mb-1\">Email</label>\r\n                                <input type=\"email\" name=\"email\" id=\"email\" className=\"form-control\" required pattern=\"^\\w{2,}@\\w{2,}\\.\\w{2,}$\" />\r\n                            </div>\r\n                            <div className=\"mt-6 w-100 w-sm-48\">\r\n                                <label htmlFor=\"date\" className=\"mb-1\">想預約的日期</label>\r\n                                <input type=\"date\" name=\"date\" id=\"date\" className=\"form-control\" required />\r\n                            </div>\r\n                            <div className=\"w-100 mt-6\">\r\n                                <label htmlFor=\"address\" className=\"mb-1\">上課地點(詳細地址)</label>\r\n                                <input type=\"text\" name=\"address\" id=\"address\" className=\"form-control\" required />\r\n                            </div>\r\n                            <div className=\"mt-9 mt-sm-15 d-flex flex-column justify-content-between w-100\">\r\n                                \r\n                                {purchase && purchase[0] !== \"洽談報價\" && (\r\n                                <div className=\"text-white d-flex align-items-sm-center\">\r\n                                    <p className=\"me-5\">{`NT$${purchase[0]}x${purchase[1]}堂`}</p>\r\n                                    <p className=\"text-warning fs-sm-3\">{`合計NT$${purchase[0] * purchase[1]}`}</p>\r\n                                </div>\r\n                                )}\r\n\r\n                                {purchase && purchase[0] === \"洽談報價\" && (\r\n                                <div className=\"text-white d-flex fw-bold\">\r\n                                    <p className=\"me-2\">方案:</p>\r\n                                    <p className=\"me-1\">客製化課程</p>\r\n                                    <p className=\"text-warning\">(洽談報價)</p>\r\n                                </div>\r\n                                )}\r\n\r\n                                <div className=\"mt-3 d-flex flex-column flex-sm-row justify-content-sm-between\">\r\n                                    <Link className=\"btn border px-12 py-2 text-white w-sm-48\" to=\"/detail\">重選方案</Link>\r\n                                    <button className=\"btn bg-linear px-12 py-2 text-white w-sm-48 mt-3 mt-sm-0\" onClick={handleCheckOut}>前往結帳</button>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            )}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlaceOrder;","import axios from \"axios\";\r\nconst basic_api = \"https://react-project-2-coding-tutorial-backend.onrender.com/api/course\";\r\n\r\nclass courseService {\r\n    searchAllCourses() {\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            let parsed = JSON.parse(localStorage.getItem(\"user_data\"));\r\n            // if (parsed.token) {\r\n                token = parsed.token;\r\n            // } else if (parsed.access_token) {\r\n            //     token = parsed.access_token;\r\n            // }\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/search`,\r\n            { headers: { Authorization: token } }\r\n        );\r\n    }\r\n\r\n    checkOut(ItemName, TotalAmount) {\r\n        let token;\r\n        if (localStorage.getItem(\"user_data\")) {\r\n            token = JSON.parse(localStorage.getItem(\"user_data\")).token;\r\n        } else {\r\n            token = \"\";\r\n        }\r\n        return axios.get(\r\n            `${basic_api}/payment/${ItemName}/${TotalAmount}`,\r\n            { headers: { Authorization: token } }\r\n        )\r\n        // .then((d) => {\r\n        //     console.log(\"inside checkOut service. d is: \", d);\r\n        //     return d;\r\n        // })\r\n        // .catch((e) => {\r\n        //     console.log(e);\r\n        // });\r\n    }\r\n}\r\n\r\nconst newCourseService = new courseService();\r\nexport default newCourseService;"],"names":["_ref","order","setOrder","currentSearch","setCurrentSearch","purchase","setPurchase","_useState","useState","_useState2","_slicedToArray","Navigate","useNavigate","useEffect","JSON","parse","localStorage","getItem","pricePerClass","amounts","Number","_jsxs","className","children","_jsx","length","src","instructorPhoto","alt","title","category","description","style","transform","action","htmlFor","type","name","id","required","placeholder","pattern","concat","Link","to","onClick","e","preventDefault","inputTags","document","querySelectorAll","console","log","newCourseService","checkOut","then","d","data","substring","indexOf","catch","basic_api","courseService","_classCallCheck","_createClass","key","value","token","axios","get","headers","Authorization","ItemName","TotalAmount"],"sourceRoot":""}